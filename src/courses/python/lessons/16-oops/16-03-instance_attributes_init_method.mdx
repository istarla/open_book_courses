
# Instance Attributes & The __init__ Method

## Initializing Object State
<section id="initializing-object-state"></section>

Yesterday, we distinguished between class attributes (shared by all instances) and instance attributes (unique to each instance). We briefly saw instance attributes being assigned inside a method named __init__. Today, we focus on this crucial special method.

While we could add attributes to instances after they are created (like car1.make = "Toyota"), this is generally not good practice. It doesn't guarantee that every object of the class will have the necessary attributes, leading to potential AttributeErrors later.

The standard and correct way to initialize the state (i.e., set the initial values of instance attributes) of an object is by using the special **__init__** method (note the double underscores before and after "init").

## The __init__ Method (Constructor)
<section id="the-init-method-constructor"></section>>

The __init__ method is a special method in Python classes. It's often called the constructor, although technically it's more of an initializer because the object is already created by the time __init__ is called.

* **Key characteristics of __init__**:

*   It is automatically called by Python immediately after a new instance of the class is created.
*   Its primary purpose is to set up the initial state of the object by assigning values to its instance attributes.
*   The first parameter of __init__ must always be self, representing the instance being created.
*   It can accept additional parameters (after self) which receive arguments passed during the instantiation of the class (e.g., when you call ClassName(arg1, arg2)).
*   The __init__ method should not explicitly return any value (it implicitly returns None). Its job is to modify the instance (self).

## Syntax and Usage
<section id="syntax-and-usage"></section>


* **File: init_method.py**
```python
class Dog:
    # Class attribute (shared)
    species = "Canis familiaris"

    # The __init__ method (initializer/constructor)
    def __init__(self, name, breed, age=0):
        # 'self' is the instance being created
        # 'name', 'breed', 'age' are parameters receiving arguments
        print(f"Initializing a new Dog instance named '{name}'...")

        # Assigning arguments to instance attributes
        self.name = name # Creates instance attribute 'name'
        self.breed = breed # Creates instance attribute 'breed'
        self.age = age # Creates instance attribute 'age'
```
* **An instance method**
```python
    def bark(self):
        print(f"{self.name} says Woof!")
```
* **Another instance method**
```python
    def get_info(self):
        return f"{self.name} ({self.breed}), Age: {self.age}, Species: {self.species}"
```
* **Create instances**
```python
--- Creating instances using the __init__ method ---

# Arguments passed here ('Buddy', 'Golden Retriever', 5)
# are automatically passed to the __init__ method (after self).
dog1 = Dog("Buddy", "Golden Retriever", 5)

# Argument 'Labrador' goes to 'breed'. 'age' uses its default value (0).
dog2 = Dog("Lucy", "Labrador")

# Accessing attributes initialized by __init__
print(f"\nDog 1 Name: {dog1.name}")
print(f"Dog 2 Breed: {dog2.breed}")
print(f"Dog 2 Age: {dog2.age}") # Default value was used

# Calling methods that use the instance attributes
print(dog1.get_info())
print(dog2.get_info())
dog1.bark()
```

When **Dog("Buddy", "Golden Retriever", 5)** is called:

1.  Python creates a new, empty Dog object.
2.  It calls the Dog.__init__ method, automatically passing the newly created object as self, "Buddy" as name, "Golden Retriever" as breed, and 5 as age.
3.  Inside __init__, the lines self.name = name, self.breed = breed, and self.age = age execute, creating and setting the instance attributes for this specific Dog object.
4.  The fully initialized object is then assigned to the variable dog1.

Using __init__ ensures that every instance of your class starts with a well-defined set of instance attributes, making your objects more consistent and predictable.

### Example 1: **Rectangle** Class



* **File: rectangle_class.py**
```python

class Rectangle:
    """Represents a rectangle with width and height."""

    def __init__(self, width, height):
        """Initializes the rectangle's dimensions."""
        if width <= 0 or height <= 0:
             raise ValueError("Width and height must be positive.")
        self.width = width   # Instance attribute
        self.height = height # Instance attribute
        print(f"Rectangle created: {width}x{height}")

    def area(self):
        """Calculates and returns the area."""
        return self.width * self.height

    def perimeter(self):
        """Calculates and returns the perimeter."""
        return 2 * (self.width + self.height)
```
* **Create instances**
```python
rect1 = Rectangle(10, 5)
rect2 = Rectangle(7.5, 3.2)
```
* **Use methods that rely on instance attributes**
```python
print(f"Area of rect1: {rect1.area()}")
print(f"Perimeter of rect1: {rect1.perimeter()}")
print(f"Area of rect2: {rect2.area()}")
print(f"Perimeter of rect2: {rect2.perimeter()}")
```
* **Trying to create an invalid rectangle**
```python
try:
    invalid_rect = Rectangle(-5, 10)
except ValueError as e:
    print(f"\nError creating rectangle: {e}")
```

### Example 2: **BankAccount** Class


* **File: bank_account.py**
```python
class BankAccount:
    """A simple bank account class."""

    # Class attribute (e.g., shared interest rate - maybe not realistic!)
    # interest_rate = 0.01

    def __init__(self, account_holder, initial_balance=0.0):
        """Initializes account holder and balance."""
        self.account_holder = account_holder # Instance attribute
        if initial_balance < 0:
            raise ValueError("Initial balance cannot be negative.")
        self.balance = initial_balance # Instance attribute
        print(f"Account created for {self.account_holder} with balance ${self.balance:.2f}")

    def deposit(self, amount):
        """Deposits money into the account."""
        if amount <= 0:
            print("Deposit amount must be positive.")
            return # Exit method
        self.balance += amount
        print(f"Deposited ${amount:.2f}. New balance: ${self.balance:.2f}")

    def withdraw(self, amount):
        """Withdraws money from the account."""
        if amount <= 0:
            print("Withdrawal amount must be positive.")
            return False # Indicate failure
        if amount > self.balance:
            print(f"Withdrawal failed: Insufficient funds. Balance: ${self.balance:.2f}")
            return False # Indicate failure
        else:
            self.balance -= amount
            print(f"Withdrew ${amount:.2f}. New balance: ${self.balance:.2f}")
            return True # Indicate success

    def get_balance(self):
        """Returns the current balance."""
        return self.balance
```
* **Create and use accounts**
```python
acc1 = BankAccount("Alice Smith", 500.00)
acc2 = BankAccount("Bob Johnson") # Uses default initial_balance=0.0

acc1.deposit(150.50)
acc2.deposit(1000)
acc1.withdraw(50)
acc2.withdraw(1200) # Should fail (insufficient funds)
acc1.withdraw(-10) # Should fail (negative amount)

print(f"\nFinal balance for {acc1.account_holder}: ${acc1.get_balance():.2f}")
print(f"Final balance for {acc2.account_holder}: ${acc2.get_balance():.2f}")
```

### Example 3: **Book** Class Revisited

* **File: book_class_init.py**
```python
class Book:
    """Represents a book with title, author, and optional page count."""

    def __init__(self, title, author, pages=None):
        """Initializes book attributes."""
        self.title = title     # Instance attribute
        self.author = author   # Instance attribute
        self.pages = pages     # Instance attribute (could be None)

    def display_info(self):
        """Prints book information."""
        print(f"\nTitle: {self.title}")
        print(f"Author: {self.author}")
        if self.pages is not None: # Only print pages if it was provided
            print(f"Pages: {self.pages}")
        else:
            print("Pages: N/A")
```
* **Create instances using __init__**
```python
book1 = Book("The Hobbit", "J.R.R. Tolkien", 310)
book2 = Book("Dune", "Frank Herbert") # pages will be None

book1.display_info()
book2.display_info()
```

import Quiz from "../../../../components/Quiz";
import pythonQuiz from "../../../../Data/instance_attribute";

<Quiz questions={pythonQuiz} />