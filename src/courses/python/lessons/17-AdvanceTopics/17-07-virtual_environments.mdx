
# Virtual Environments & **pip**

## Managing Project Dependencies
<section id="managing-project-dependencies"></section>

As we move beyond the standard library, we'll often want to use external **third-party packages** (collections of modules created by other developers) to add powerful features to our applications (e.g., for web development, data science, image processing).

Different projects might require different versions of the same package, or one project might need a package that conflicts with another. Installing all packages globally on your system can quickly lead to version conflicts and make projects difficult to manage and share.

The solution is to use **virtual environments**. A virtual environment is an isolated Python environment that allows you to install packages specifically for one project without affecting other projects or your global Python installation.

## What is **pip**?
<section id="what-is-pip"></section>

`pip` is the standard package installer for Python. You use **pip** to install, upgrade, and remove Python packages from the [Python Package Index (PyPI)](https://pypi.org/), a vast repository of third-party software.

**pip** usually comes bundled with modern Python installations. You can check if it's installed and see its version by running this in your terminal/command prompt:

```python
python -m pip --version
# or sometimes just: pip --version
```

## Creating and Using Virtual Environments (**venv**)
<section id="creating-and-using-virtual-environments-venv"></section>

Python 3 includes the built-in `venv` module for creating virtual environments. It's the recommended tool for this purpose.

The process typically involves these steps (performed in your terminal/command prompt):

1.  **Navigate to your project directory:** Use the **cd** command to go to the folder where you want to create your project.
    ```bash
    cd path/to/your/project_folder               
    ```
2.  **Create the virtual environment:** Use the **venv** module. It's conventional to name the environment directory `venv`, `.venv`, or something similar.
    ```bash
    # On macOS/Linux
    python3 -m venv venv

    # On Windows
    python -m venv venv
    ```
    This command creates a new directory (e.g., **venv**) containing a copy of the Python interpreter, the **pip** package manager, and other necessary files for an isolated environment.
3.  **Activate the virtual environment:** Before you can install or use packages in the virtual environment, you need to activate it. The activation command differs by operating system and shell:
    *   **macOS/Linux (bash/zsh):**
        ```bash
        source venv/bin/activate
        ```
    *   **Windows (Command Prompt):**
        ```cmd
        venv\Scripts\activate.bat
        ```
    *   **Windows (PowerShell):**
        ```powershell
        # You might need to adjust execution policy first:
        # Set-ExecutionPolicy RemoteSigned -Scope CurrentUser (run as Administrator)
        venv\Scripts\Activate.ps1                        
        ```
    When activated, your terminal prompt will usually change to show the name of the environment (e.g., **(venv) your_prompt$**). This indicates that the **python** and **pip** commands will now refer to the versions within the virtual environment.
4.  **Install packages:** Now, use **pip** to install packages **only** into the active environment.
    ```bash
    pip install package_name
    pip install package1 package2 another_package==1.2.3 # Install specific version                
    ```
5.  **Work on your project:** Run your Python scripts as usual (`python your_script.py`). They will use the Python interpreter and packages installed in the active virtual environment.
6.  **Deactivate the environment:** When you're finished working on the project, deactivate the environment to return to your global Python context.
    ```bash
    deactivate
    ```
    (This command is usually the same across platforms once activated). Your prompt should return to normal.

> You should add your virtual environment directory (e.g., **venv/**) to your project's **.gitignore** file (if using Git) to avoid committing the environment itself to version control. Instead, you share project dependencies using a requirements file.

## Managing Dependencies: **requirements.txt**


To ensure that others (or your future self) can easily recreate the same project environment with the correct package versions, it's standard practice to list your project's dependencies in a file named `requirements.txt`.

*   **Freezing Dependencies:** While your virtual environment is active, you can automatically generate a **requirements.txt** file listing all installed packages and their exact versions:
    ```bash
    pip freeze > requirements.txt
    ```
*   **Installing from Requirements:** When someone else clones your project (or you set it up on a new machine), they can create a new virtual environment, activate it, and then install all the necessary packages listed in the file using:
    ```bash
    pip install -r requirements.txt
    ```

This makes your project reproducible and collaboration much easier.

### Example 1: Creating and Activating (Conceptual Steps)
<section id="example-1-creating-and-activating-conceptual-steps"></section>

These commands are run in the terminal, not a Python script.

```bash
1. Go to your project folder
# cd my_python_project

2. Create the environment (using venv as the name)
# python -m venv venv
 3. Activate the environment
# On macOS/Linux: source venv/bin/activate
# On Windows CMD: venv\Scripts\activate.bat
# On Windows PowerShell: venv\Scripts\Activate.ps1

# (Your prompt should now show '(venv)' at the beginning)

4. Check which python is being used (should point inside venv)
# which python  # macOS/Linux
# where python  # Windows

5. Check pip version (should be from venv)
# pip --version

6. Deactivate when done
# deactivate
```

### Example 2: Installing a Package and Freezing
<section id="example-2-installing-a-package-and-freezing"></section>

Run these commands in the terminal **after** activating your virtual environment.

```bash
# (Assuming venv is active - prompt starts with '(venv)')

# Install a simple example package (e.g., 'requests' - we'll use next lesson)
pip install requests

# List installed packages in this environment
pip list

# Freeze requirements to a file
pip freeze > requirements.txt

# Inspect the requirements.txt file (it will list requests and its dependencies)
# On macOS/Linux: cat requirements.txt
# On Windows: type requirements.txt
```

The **requirements.txt** file will contain lines like **requests==2.31.0** (the version might differ) and potentially other lines for packages that **requests** depends on.

### Example 3: Installing from **requirements.txt**
<section id="example-3-installing-from-requirements-txt"></section>

Simulating setting up the project elsewhere.

```bash
# (Optional: Deactivate and remove the old venv first to simulate clean setup)
# deactivate
# rm -rf venv  # macOS/Linux
# rmdir /s /q venv # Windows CMD

1. Create a new environment (if needed)
# python -m venv venv

2. Activate the new environment
# source venv/bin/activate  # Or Windows equivalent

3. Install packages from the file
pip install -r requirements.txt

4. Verify installation
# pip list
# (You should see 'requests' and its dependencies listed again)

5. Deactivate when done
# deactivate
```

import Quiz from "../../../../components/Quiz";
import pythonQuiz from "../../../../Data/virtual_environment";

<Quiz questions={pythonQuiz} />